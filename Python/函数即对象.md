# 函数即对象

## 1 函数是一等对象

**一等对象**(first-class object) 指的是满足以下条件的程序实体：

- 在运行时创建
- 能赋值给变量或数据结构中的元素
- 能作为参数传给函数
- 能作为函数的返回结果

在 Python 中，函数也符合上述条件，因此函数是一等对象。

- `__doc__` 属性用于生成对象的帮助文本
- 可以将函数直接复制给变量，然后通过变量名调用该函数

### 1.1 高阶函数

**高阶函数**(higher-order function)：接受函数为参数，或把函数作为结果返回的函数。

内置函数 `sorted`、`map`、`filter`、`reduce` 等都属于高阶函数

- `map(function, iterable)`：返回一个可迭代对象，所含的项是把第一个参数（函数）应用到第二个参数（一个可迭代对象）中各个元素得到的结果
  - 在 Python 3 中，`map` 函数是惰性的，它会创建一个生成器，按需产出结果，因此能节省内存
- 不过，更为现代和方便的[列表推导式和生成器表达式](https://note.noughtq.top/lang/py/functObj#列表推导式和生成器表达式)可以替代 `map` 和 `filter`
- `reduce` [归约函数](https://zh.wikipedia.org/wiki/Fold_(高阶函数))来自 `functools` 模块，它的句法与 `map` 类似，作用是将一系列值归约成单个值
  - `reduce` 还有可选的第三个参数，作为初始值，但建议最好提供这个参数。如果可迭代对象为空，那么返回值就是这个初始值；否则在归约循环中，以这个初始值作为第一个参数（例如，对 `+`、`|`、`^` 来说，初始值应为 0，而对 `*` 和 `&` 来说，初始值应为 1）